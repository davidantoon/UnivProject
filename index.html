<!DOCTYPE html>
<html lang="en" ng-app="IntelLearner">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="icon" href="img/favicon.ico" type="image/x-icon"/> -->
  <!-- <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/> -->
  <title></title>
  
  <link rel="stylesheet" href="css/app.css"> 
  <link rel="stylesheet" href="css/bootstrap-datepicker3.css"> 
  <link rel="stylesheet" href="css/onsenui.css">
  <link rel="stylesheet" href="css/onsen-css-components-IntelProject.css">
  <link rel="stylesheet" href="css/app.css">
  

</head>
<body ng-controller="MainCtrl">

    <div id="MainDiv" class="{{((blurAllWindow == true)?'blured':'')}}" ng-switch="AppStatus" style="display:none">
      <div class="AppPage" ng-switch-when="2" style="">  
        <ons-page>
          <ons-tabbar position="top" class="" style="height: 50px;    z-index: 10001;">
            <ons-row style="max-height: 49px;overflow: visible;">
              <ons-col  class="LogoutDivTabbar hoverOp clickable" ng-click="logout();" width="49px">
                <ons-icon  size="25px" icon="ion-android-exit"></ons-icon>
              </ons-col>
              <ons-col width="220px" ng-click="openProfileDialog();" class="Logo rtl">
                <div class="ProfilePicDivTabbar" style="{{'background:url(\''+getProfilePicture()+'\') 50% 50% no-repeat;    background-size: 150px;'}}"></div>
                <p>{{currentUser.firstName+" "+currentUser.lastName}}</p>
              </ons-col>
              <ons-col id="NotificationsButton1" ng-click="testFunctions1();" width="100px" style="width:100px; position:relative;" class="">
                <div class="TopTabbarButton clickable hoverOp">Settings</div>
              </ons-col>
              <ons-col id="NotificationsButton2" ng-click="openNewWorkflow();" width="150px" style="width:150px; position:relative;" class="">
                <div class="TopTabbarButton clickable hoverOp">New Workflow</div>
              </ons-col>
              <ons-col id="ColorFilterDiv" width="80px" style="width:80px; position:relative; height: 54px;" class="optionTabberDiv">
                <div ng-click="selectColorFilter(0);" class="TopTabbarButton clickable hoverOp" style=" padding:0 5px;">
                  <ons-row >
                    <ons-col width="40px" style="line-height: 49px;">ALL</ons-col> 
                    <ons-col>
                      <div class="{{'ColorCheckStatusA ' + ((workSpaces.selectedColors.length == 0)?'':'hidden')}}" >
                        <ons-icon icon="ion-checkmark-round" width="20px"></ons-icon>
                      </div>
                    </ons-col>
                  </ons-row>
                </div>
                <div class="TopTabbarOptions">
                  <ons-row ng-repeat="color in getColors();" class="clickable" ng-click="selectColorFilter(color);">
                    <ons-col width="40px">
                      <div style="{{'color:'+color}}" class="{{'ColorCheckStatus '+ ((colorIsChecked(color)==1)?'hidden':'')}}">
                        <ons-icon icon="ion-ios-circle-filled" width="20px"></ons-icon>
                      </div>
                      <div style="{{'color:'+color}}" class="{{'ColorCheckStatus '+ ((colorIsChecked(color)==1)?'':'hidden')}}">
                        <ons-icon icon="ion-checkmark-circled" width="16px"></ons-icon>
                      </div>
                    </ons-col> 
                  </ons-row>
                </div>
              </ons-col>
              <ons-col>
              </ons-col>
              <ons-col id="refocusButton" ng-click="refocusLastWorkflow();" width="45px" style="width:45px; position:relative;" class="{{'col ons-col-inner '+((focusingLastWorkflow == false)?'clickable hoverOp':'opacityLow')}}">
                <div class="TopTabbarButton" style="border-right:0;font-size: 13px;">
                  <ons-icon icon="ion-pinpoint" size="25px"></ons-icon>
                </div>
              </ons-col>
              <ons-col id="NotificationsButton3" ng-click="Steps.commitSteps(workSpaces);" width="85px" style="width:50px; position:relative;" class="{{'col ons-col-inner '+((Steps.savedInServer == false)?'clickable hoverOp':'opacityLow')}}">
                <div class="TopTabbarButton" style="border-right:0;font-size: 13px;">
                  <ons-icon icon="ion-upload" size="25px"></ons-icon>
                  {{savingStepsToServer}}
                </div>
                <div class="backgroundSaveButton" style="{{((Settings.autoSave == true)?((Steps.savedInServer == false && counterBeforeSave > 2)?'height:'+ ((5-(7-counterBeforeSave))*20)+'%':'hidden'):'hidden')}}"></div>
              </ons-col>
              <ons-col id="NotificationsButton4" ng-click="UndoWorkflow();" width="80px" style="width:50px; position:relative;" class="{{'col ons-col-inner '+((Steps.canUndo() == true)?'clickable hoverOp':'opacityLow')}}">
                <div class="TopTabbarButton" style="border-right:0;font-size: 13px;">
                  <ons-icon icon="ion-ios-undo" size="25px"></ons-icon>
                  Undo
                </div>
              </ons-col>
              <ons-col id="NotificationsButton5" ng-click="RedoWorkflow();" width="80px" style="width:50px; position:relative;" class="{{'col ons-col-inner '+((Steps.canRedo() == true)?'clickable hoverOp':'opacityLow')}}">
                <div class="TopTabbarButton" style="border-right:0;font-size: 13px;">
                  Redo
                  <ons-icon icon="ion-ios-redo" size="25px"></ons-icon>
                </div>
              </ons-col>
              <ons-col width="230px" style="border-left: 1px solid rgba(0,0,0,.1);">
                <ons-row>
                  <ons-col width="40px" class="col ons-col-inner" style="-webkit-box-flex: 0; flex: 0 0 40px; max-width: 40px;text-align: center;line-height: 47px;color: rgba(8,96,168,.6);">
                    <ons-icon size="20px" icon="ion-arrow-shrink"></ons-icon>
                  </ons-col>
                  <ons-col class="range-wrapper">
                    <input type="range" id="ZoomRange" value="80" min="25" max="100" class="range">
                  </ons-col>
                  <ons-col width="40px" class="col ons-col-inner" style="-webkit-box-flex: 0; flex: 0 0 40px; max-width: 40px;text-align: center;line-height: 47px;color: rgb(8,96,168);">
                    <ons-icon size="20px" icon="ion-arrow-expand"></ons-icon>
                  </ons-col>
                </ons-row>
              </ons-col>
            </ons-row>
          </ons-tabbar>
          <div id="OpenAllCashedContentsContainer" ng-click="toggleopenCashedContects();" class="{{((openCashedContects == true)?'rightmeMore':'')}}" >
            <div class="{{'animateMe ' +((openCashedContects == true)?'flipme':'')}}">
              <ons-icon icon="ion-chevron-left" size="20px"></ons-icon>
            </div>
          </div>
          <div id="allCashedContentsContainer" class="{{((openCashedContects == true)?'rightme':'')}}">
            <div class="{{'noResultsMessage '+((holdingCashedObjects.deliveries.length == 0 && holdingCashedObjects.kbits.length == 0 && holdingCashedObjects.terms.length == 0)?'':'hidden')}}">No Content</div> 
            <div class="{{'ChashedContentsSeparator '+((holdingCashedObjects.deliveries.length != 0)?'':'hidden')}}">Deliveries</div>
            <ons-row class="itemRow" dnd-draggable="delivery" dnd-effect-allowed="copy"  dnd-copied="draggingItems(delivery);" ng-repeat="delivery in holdingCashedObjects.deliveries">
              <ons-col>
                <ons-row>
                  <ons-col class="title">{{delivery.name}}</ons-col>
                </ons-row>
                <ons-row>
                  <ons-col class="desc">{{delivery.description}}</ons-col>
                </ons-row>
              </ons-col>
            </ons-row>
            <div class="{{'ChashedContentsSeparator '+((holdingCashedObjects.kbits.length != 0)?'':'hidden')}}">Kbits</div>
            <ons-row class="itemRow" dnd-draggable="kbit" dnd-effect-allowed="copy"  dnd-copied="draggingItems(kbit);" ng-repeat="kbit in holdingCashedObjects.kbits">
              <ons-col>
                <ons-row>
                  <ons-col class="title">{{kbit.name}}</ons-col>
                </ons-row>
                <ons-row>
                  <ons-col class="desc">{{kbit.description}}</ons-col>
                </ons-row>
              </ons-col>
            </ons-row>
            <div class="{{'ChashedContentsSeparator '+((holdingCashedObjects.terms.length != 0)?'':'hidden')}}">Terms</div>
            <ons-row class="itemRow" dnd-draggable="term" dnd-effect-allowed="copy"  dnd-copied="draggingItems(term);" ng-repeat="term in holdingCashedObjects.terms">
              <ons-col>
                <ons-row>
                  <ons-col class="tscope">{{term.termScope.name}}</ons-col>
                </ons-row>
                <ons-row>
                  <ons-col class="ttitle" width="100px">{{getPreferLanguageFromTerm(term.name)}}</ons-col>
                  <ons-col class="tdesc">{{getPreferLanguageFromTerm(term.description)}}</ons-col>
                </ons-row>
              </ons-col>
            </ons-row>
          </div>
          <ons-row id="BodyRow" style="    height: calc(100% - 50px);margin-top: 50px;  overflow: scroll;">

            <div id="WorkFlowMatrix">
              <div id="pointToZoom"></div>
            
              <div ng-mouseenter="((Settings.removeScrollOnMouseOver == true)?EnableScroll(2,'Workflow'+wFlow.ID):return)" ng-mouseleave="EnableScroll(1,'Workflow'+wFlow.ID);" ng-repeat="wFlow in getCurrentWorkflows()" id="{{'Workflow'+wFlow.ID}}" class="WorkFlowBlock Available" ng-click="Steps.lastFocusedWorkflow = wFlow.ID;((wFlow.selectedTab.Type == 4 || wFlow.selectedTab.Type == 5)?EnableScroll(2,'Workflow'+wFlow.ID):return);" fx="{{wFlow.fx}}" fy="{{wFlow.fy}}" tx="{{wFlow.tx}}" ty="{{wFlow.ty}}">
                <div ng-click="focusThisWorkflow(wFlow);" class="{{'MaximizeButton clickable '+((clickToMaximize == true)?'':'hidden')}}">
                  <div>
                    <ons-icon icon="ion-ios-search-strong" size="100px"></ons-icon>
                  </div>
                </div>
                <div ng-click="CancelNewWorkflow();" class="{{'CancelNewWorkflow clickable '+((displayNewWorkflowButtons == true)?'':'hidden')}}">
                  Open new workflow or new tab
                  <div>
                    Cancel
                  </div>
                </div>
                <div class="resizeDiv resizeWidthLeftDiv hoverOp clickable">
                  <ons-icon icon="ion-arrow-left-b" size="20px"></ons-icon>
                </div>
                <div class="resizeDiv resizeWidthRightDiv hoverOp clickable">
                  <ons-icon icon="ion-arrow-right-b" size="20px"></ons-icon>
                </div>
                <div class="resizeDiv resizeHeightTopDiv hoverOp clickable">
                  <ons-icon icon="ion-arrow-up-b" size="20px"></ons-icon>
                </div>
                <div class="resizeDiv resizeHeightBottomDiv hoverOp clickable">
                  <ons-icon icon="ion-arrow-down-b" size="20px"></ons-icon>
                </div>
                <ons-row class="row ons-row-inner WorkFlowTabs">
                  <ons-col ng-repeat="tab in wFlow.tabs" 
                    ng-click="((displayNewWorkflowButtons == true)?return:selectTab(wFlow, tab));" 
                    class="{{'col ons-col-inner WorkFlowTab '+((getSelectedTab(wFlow, tab.ID))?'ActiveTab':'') + ' '+ ((clickToMaximize == true || displayNewWorkflowButtons == true)?'blured':'')}}"
                    style="{{'box-shadow: 0px 5px 0px -1px '+tab.color}}">
                    <input id="{{'WorkflowId'+wFlow.ID+'Tab'+tab.ID}}" readonly="readonly" placeholder="Tab name" ng-enter="updateTabName(wFlow.ID, tab.ID, 'WorkflowId'+wFlow.ID+'Tab'+tab.ID);" 
                    ng-dblclick="((displayNewWorkflowButtons == true)?return:ConvertTextBos('WorkflowId'+wFlow.ID+'Tab'+tab.ID));"
                    value="{{tab.title}}" />
                    <ons-icon ng-click="((displayNewWorkflowButtons == true)?return:closeTab(wFlow));" class="closeTabButton" icon="ion-ios-close" size="18px"></ons-icon>
                    <ons-icon ng-click="((displayNewWorkflowButtons == true)?return:openTabOptions(wFlow));" class="optionTabButton" icon="ion-navicon-round" size="18px"></ons-icon>
                  </ons-col>
                  <ons-col ng-click="addNewTabToWorkflow(wFlow);" class="{{'col ons-col-inner newWorkflowTab ' + ((displayNewWorkflowButtons == true && displayNewWorkflowTabButtons == true && holdingNewWorkflowData.Action !='DisplayObject' && (wFlow.tx-wFlow.fx == 1))?'':'hidden')}}">
                    +
                  </ons-col>
                </ons-row>
                <div class="{{'SelectedTabContent '+((clickToMaximize == true || displayNewWorkflowButtons == true)?'blured':'')}}">
                    <div class="{{((getSelectedTabType(wFlow) == 0)?'':'hidden')}}">
                      <div ng-click="MainButtonsPressed(wFlow,1);" class="SearchButton MainButtonsTab" style="line-height: 178px;">
                        Search
                      </div>
                      <div ng-click="MainButtonsPressed(wFlow,2);" class="CreateButton MainButtonsTab" style="line-height: 178px;">
                        Create New Element
                      </div>
                    </div>
                    <!-- SEARCH TAB HTML -->
                    <div class="{{((getSelectedTabType(wFlow) == 1)?'':'hidden')}}">
                      <div class="searchTextboxDiv">
                        <input class="searchTextbox" ng-enter="prepareForSearch(wFlow);" ng-blur="InsertStepToLast10Steps(); " placeholder="Search Text" id="1" ng-model="wFlow.selectedTab.dataHolding.searchText">
                      </div>
                      <div class="searchOptions">
                        <ons-row class="LabelOfOptionsButtons">
                          Elements to search:
                        </ons-row>
                        <ons-row>
                          <ons-col 
                          ng-click="((wFlow.selectedTab.dataHolding.elementsToSearch[0] == 1)?wFlow.selectedTab.dataHolding.elementsToSearch[0] = 0:wFlow.selectedTab.dataHolding.elementsToSearch[0] = 1); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.elementsToSearch[0] == 1)?'checked':'')}}">Kbits</ons-col>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.elementsToSearch[1] == 1)?wFlow.selectedTab.dataHolding.elementsToSearch[1] = 0:wFlow.selectedTab.dataHolding.elementsToSearch[1] = 1); InsertStepToLast10Steps();"  class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.elementsToSearch[1] == 1)?'checked':'')}}">Deliveries</ons-col>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.elementsToSearch[2] == 1)?wFlow.selectedTab.dataHolding.elementsToSearch[2] = 0:wFlow.selectedTab.dataHolding.elementsToSearch[2] = 1); InsertStepToLast10Steps();"  class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.elementsToSearch[2] == 1)?'checked':'')}}">Terms</ons-col>
                        </ons-row>
                        <ons-row class="LabelOfOptionsButtons">
                          Search By:
                        </ons-row>
                        <ons-row>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.searchBy[0] == 1)?wFlow.selectedTab.dataHolding.searchBy[0] = 0:wFlow.selectedTab.dataHolding.searchBy[0] = 1); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.searchBy[0] == 1)?'checked':'')}}">Name</ons-col>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.searchBy[1] == 1)?wFlow.selectedTab.dataHolding.searchBy[1] = 0:wFlow.selectedTab.dataHolding.searchBy[1] = 1); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.searchBy[1] == 1)?'checked':'')}}">Description</ons-col>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.searchBy[2] == 1)?wFlow.selectedTab.dataHolding.searchBy[2] = 0:wFlow.selectedTab.dataHolding.searchBy[2] = 1); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.searchBy[2] == 1)?'checked':'')}}">ID</ons-col>
                        </ons-row>
                        <ons-row class="LabelOfOptionsButtons">
                          Additional options:
                        </ons-row>
                        <ons-row>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.forceLastModifed == true)?toggleForceSearchOption(wFlow.selectedTab, 1):toggleForceSearchOption(wFlow.selectedTab, 0)); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.forceLastModifed == true)?'checked':'')}}">Last modified</ons-col>
                          <ons-col ng-click="((wFlow.selectedTab.dataHolding.forceServerPull == true)?toggleForceSearchOption(wFlow.selectedTab, 0):toggleForceSearchOption(wFlow.selectedTab, 1)); InsertStepToLast10Steps();" class="{{'searchOptionButton col ons-col-inner '+((wFlow.selectedTab.dataHolding.forceServerPull == true)?'checked':'')}}">Published content</ons-col>
                        </ons-row>
                        <ons-row>
                          <ons-col></ons-col>
                          <ons-col>
                            <div class="SearchButtonForQuery" ng-click="prepareForSearch(wFlow);">Search</div>
                          </ons-col>
                          <ons-col></ons-col>
                        </ons-row>                        
                      </div>
                      <div style="display:none" class="searchResults">
                        {{wFlow.selectedTab.content.searchText}}
                        <br>
                        {{wFlow.name}}
                      </div>
                    </div>
                    <!-- CREATE TAB HTML -->
                    <div class="{{((getSelectedTabType(wFlow) == 2)?'':'hidden')}}">
                      <div class="{{'searchResultSpinner '+((wFlow.selectedTab.dataHolding.spinner == true)?'':'hidden')}}" >
                        <div class="centerMeInDiv " style="width:50px; height:50px">
                          <img src="img/loader.gif" style="height:50px; width:50px" />
                        </div>
                      </div>
                      <div ng-click="CeateButtonPressed(wFlow,'Delivery');" class="SearchButton MainButtonsTab">
                        Create New Delivery
                      </div>
                      <div ng-click="CeateButtonPressed(wFlow,'Kbit');" class="CreateButton MainButtonsTab">
                        Create New Kbit
                      </div>
                      <div ng-click="CeateButtonPressed(wFlow,'Term');" class="EditButton MainButtonsTab">
                        Create New Term
                      </div>
                    </div>
                    <!-- CREATE TERM TAB HTML -->
                    <div class="{{((getSelectedTabType(wFlow) == 6)?'':'hidden')}}">
                      <ons-row class="wizardContainer">
                        <div class="SpinnerLoader" style="{{((wFlow.selectedTab.dataHolding.spinner == true)?'visibility:visible;opacity:1;':'visibility:hidden');}}">
                          <div class="centerMeInDiv " style="width:50px; height:50px">
                            <img src="img/loader.gif" style="height:50px; width:50px" />
                          </div>
                        </div>
                        <div ng-switch="wFlow.selectedTab.dataHolding.index" style="width: 100%;">
                          <ons-row ng-switch-when="1">
                            <ons-col>
                              <ons-row class="header" ng-click="refocusMe(wFlow);">
                                <ons-col width="110px" ng-click="cancelTermButton(wFlow.selectedTab.dataHolding, wFlow);" class="backButton buttons clickable">
                                  <ons-icon icon="ion-android-cancel" size="25px"></ons-icon>
                                  <p>Cancel</p>
                                </ons-col>
                                <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                <div class="title">
                                  Select Term Scope
                                </div>
                                <ons-col width="110px" ng-click="nextTermButton(wFlow);" class="{{'backButton buttons clickable '+((canTermNext(wFlow.selectedTab.dataHolding) == true)?'invisible':'')}}">
                                  <p>Next</p>
                                  <ons-icon icon="ion-android-arrow-dropright-circle" size="25px"></ons-icon>
                                </ons-col>
                              </ons-row>

                              <ons-row class="scopeSelectOptions">
                                <ons-col ng-click="wFlow.selectedTab.dataHolding.newTerm.searchCreateScope = 0; InsertStepToLast10Steps();" class="{{'searchOptionButton1 col ons-col-inner '+((wFlow.selectedTab.dataHolding.newTerm.searchCreateScope == 0)?'checked':'')}}">Search Scopes</ons-col>
                                <ons-col ng-click="wFlow.selectedTab.dataHolding.newTerm.searchCreateScope = 1; InsertStepToLast10Steps();" class="{{'searchOptionButton1 col ons-col-inner '+((wFlow.selectedTab.dataHolding.newTerm.searchCreateScope == 1)?'checked':'')}}">Create Scope</ons-col>
                              </ons-row>
                              <ons-row>
                                <ons-col ng-switch="wFlow.selectedTab.dataHolding.newTerm.searchCreateScope">
                                  <ons-row ng-switch-when="0">
                                    <ons-col>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="200px">
                                          Search Scope:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <input ng-blur="wFlow.selectedTab.dataHolding.newTerm.selectedTermScope=null;InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.termScope.name" type="text" />
                                          <div class="scopeSuggestingDiv" style="height: 110px;">
                                            <ons-row class="clickable hoverOp" ng-click="wFlow.selectedTab.dataHolding.newTerm.selectedTermScope = scope;wFlow.selectedTab.dataHolding.newTerm.selectedTerm=null" ng-repeat="scope in getSearchTermScop(wFlow.selectedTab.dataHolding);" style="height: 43px;line-height: 43px;border-bottom: 1px solid rgba(0,0,0,.1);">
                                              <ons-col width="150px" class="scopeTitleSuggested">
                                                {{scope.name}}
                                              </ons-col>
                                              <ons-col class="scopeDescriptionSuggested">
                                                {{scope.description}}
                                              </ons-col>
                                            </ons-row>
                                          </div>
                                        </ons-col>
                                      </ons-row>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col>
                                          <ons-row>
                                            <ons-col width="250px">
                                              Selected Scope Name: 
                                            </ons-col>
                                            <ons-col>
                                              {{wFlow.selectedTab.dataHolding.newTerm.selectedTermScope.name}} 
                                            </ons-col>
                                          </ons-row>
                                          <ons-row>
                                            <ons-col width="250px">
                                              Selected Scope Description: 
                                            </ons-col>
                                            <ons-col>
                                              {{wFlow.selectedTab.dataHolding.newTerm.selectedTermScope.description}} 
                                            </ons-col>
                                          </ons-row>
                                        </ons-col>
                                      </ons-row>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row ng-switch-when="1">
                                    <ons-col>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="250px">
                                          New Scope Name:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <input ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.termScope.name" type="text" />
                                        </ons-col>
                                      </ons-row>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="250px">
                                          New Scope Description:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <textarea ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.termScope.description" ></textarea>
                                        </ons-col>
                                      </ons-row>
                                    </ons-col>
                                  </ons-row>
                                </ons-col>
                              </ons-row>

                            </ons-col>
                          </ons-row>
                          <ons-row ng-switch-when="2">
                            <ons-col>
                              <ons-row class="header" ng-click="refocusMe(wFlow);">
                                <ons-col width="110px" ng-click="backTermButton(wFlow);" class="backButton buttons clickable">
                                  <ons-icon icon="ion-android-cancel" size="25px"></ons-icon>
                                  <p>Back</p>
                                </ons-col>
                                <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                <div class="title">
                                  Select Term
                                </div>
                                <ons-col width="110px" ng-click="nextTermButton(wFlow);" class="{{'backButton buttons clickable '+((canTermNext(wFlow.selectedTab.dataHolding) == true)?'invisible':'')}}">
                                  <p>{{((wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm == 0)?"Next":"Create")}}</p>
                                  <ons-icon icon="ion-android-arrow-dropright-circle" size="25px"></ons-icon>
                                </ons-col>
                              </ons-row>
                              <ons-row class="scopeSelectOptions">
                                <ons-col  ng-click="wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm = 0; InsertStepToLast10Steps();" class="{{'searchOptionButton1 col ons-col-inner '+((wFlow.selectedTab.dataHolding.newTerm.selectedTermScope == null)?'hidden':((wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm == 0)?'checked':''))}}">Search Term</ons-col>
                                <ons-col  ng-click="wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm = 1; InsertStepToLast10Steps();" class="{{'searchOptionButton1 col ons-col-inner '+((wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm == 1)?'checked':'')}}">Create Term</ons-col>
                              </ons-row>
                              <ons-row>
                                <ons-col ng-switch="wFlow.selectedTab.dataHolding.newTerm.searchCreateTerm">
                                  <ons-row ng-switch-when="0">
                                    <ons-col>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="200px">
                                          Search Term:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <input ng-blur="wFlow.selectedTab.dataHolding.newTerm.selectedTerm=null;InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.name[Settings.preferLanguage['LANG_CODE']]" type="text" />
                                          <div class="scopeSuggestingDiv" style="height: 110px;">
                                            <ons-row class="clickable hoverOp" ng-click="wFlow.selectedTab.dataHolding.newTerm.selectedTerm = term" ng-repeat="term in getSearchTermFromSelectedScope(wFlow.selectedTab.dataHolding);" style="height: 43px;line-height: 43px;border-bottom: 1px solid rgba(0,0,0,.1);">
                                              <ons-col class="scopeTitleSuggested">
                                                {{getPreferLanguageFromTerm(term.name)}}
                                              </ons-col>
                                            </ons-row>
                                          </div>
                                        </ons-col>
                                      </ons-row>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col>
                                          <ons-row>
                                            <ons-col width="200px">
                                              Selected Term Name: 
                                            </ons-col>
                                            <ons-col>
                                              {{wFlow.selectedTab.dataHolding.newTerm.selectedTerm.name[Settings.preferLanguage["LANG_CODE"]]}} 
                                            </ons-col>
                                          </ons-row>
                                        </ons-col>
                                      </ons-row>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row ng-switch-when="1">
                                    <ons-col>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="250px">
                                          New Term Name:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <input ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.name[Settings.preferLanguage['LANG_CODE']]" type="text" />
                                        </ons-col>
                                      </ons-row>
                                      <ons-row class="editObjectDetailsRow">
                                        <ons-col class="InputLabel" width="250px">
                                          New Term Description:
                                        </ons-col>
                                        <ons-col class="InputTextbox">
                                          <textarea ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.description[Settings.preferLanguage['LANG_CODE']]" ></textarea>
                                        </ons-col>
                                      </ons-row>
                                    </ons-col>
                                  </ons-row>
                                </ons-col>
                              </ons-row>
                            </ons-col>
                          </ons-row>
                          <ons-row ng-switch-when="3">
                            <ons-col>
                              <ons-row class="header" ng-click="refocusMe(wFlow);">
                                <ons-col width="110px" ng-click="backTermButton(wFlow);" class="backButton buttons clickable">
                                  <ons-icon icon="ion-android-cancel" size="25px"></ons-icon>
                                  <p>Back</p>
                                </ons-col>
                                <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                <div class="title">
                                  Add Term Description
                                </div>
                                <ons-col width="110px" ng-click="nextTermButton(wFlow);" class="{{'backButton buttons clickable '+((canTermNext(wFlow.selectedTab.dataHolding) == true)?'invisible':'')}}">
                                  <p>Create</p>
                                  <ons-icon icon="ion-android-arrow-dropright-circle" size="25px"></ons-icon>
                                </ons-col>
                              </ons-row>
                              <ons-row>
                                <ons-col>
                                  <ons-row class="editObjectDetailsRow">
                                    <ons-col>
                                      <ons-row>
                                        <ons-col width="200px">
                                          Selected Term Name: 
                                        </ons-col>
                                        <ons-col>
                                          {{wFlow.selectedTab.dataHolding.newTerm.selectedTerm.name[Settings.preferLanguage["LANG_CODE"]]}} 
                                        </ons-col>
                                      </ons-row>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row class="editObjectDetailsRow">
                                    <ons-col class="InputLabel" width="250px">
                                      New Term Description:
                                    </ons-col>
                                    <ons-col class="InputTextbox">
                                      <textarea ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.dataHolding.newTerm.description[Settings.preferLanguage['LANG_CODE']]" ></textarea>
                                    </ons-col>
                                    
                                  </ons-row>
                                </ons-col>
                              </ons-row>
                            </ons-col>
                          </ons-row>
                        </div>
                      </ons-row>
                    </div>
                    <!-- EDIT TAB HTML -->
                    <div class="{{((getSelectedTabType(wFlow) == 3)?'':'hidden')}}">
                      edit
                    </div>
                    <!-- SEARCH RESULTS TAB HTML -->
                    <div class="{{'searchTypeTab '+((getSelectedTabType(wFlow) == 4)?'':'hidden')}}">
                      <div ng-click="back(wFlow.selectedTab.dataHolding);" style="{{'border-top: 2px solid '+wFlow.selectedTab.color+'; border-right: 3px solid '+wFlow.selectedTab.color+';'}}" class="ReturnToSearchButton">
                        <ons-icon icon="ion-chevron-left" size="18px"></ons-icon> Back
                      </div>
                      <div class="searchResultSpinner" style="{{((wFlow.selectedTab.dataHolding.results == null)?'opacity: 1;':'');}}">
                        <div class="centerMeInDiv " style="width:50px; height:50px">
                          <img src="img/loader.gif" style="height:50px; width:50px" />
                        </div>
                      </div>
                      <div class="SearchResultsRows">
                        <p class="{{'noResultsMessage '+((wFlow.selectedTab.dataHolding.resultsCount == 0)?'':'hidden')}}">
                          No Results!
                        </p>
                        <div class="SearchResultsRowTitle" style="{{(((FilterResults(wFlow.selectedTab.dataHolding.results, 'Kbit')).length == 0)?'display:none':'')}}">Kbits</div>
                        <div class="toolbox">
                          <ons-row ng-click="displayContent(wFlow,result);" ng-rclick="displayContentNewTab(wFlow,result);" class="SearchResultsRow1 SearchResultsRow  clickable hoverOp" ng-repeat="result in FilterResults(wFlow.selectedTab.dataHolding.results, 'Kbit')" dnd-draggable="result"
                          dnd-copied="draggingItems(result)" dnd-effect-allowed="copy">
                            <ons-col>
                              <ons-row style="height: 25px;">
                                <ons-col>
                                  <p class="searchResultName">{{result.name}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row style="height: 18px;">
                                <ons-col>
                                  <p class="searchResultDescription">{{result.description}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row class="resultInfo">
                                <ons-col width="25%">
                                  <p class="{{'inProgressMessage '+((result.inProgress == true)?'':'hidden')}}" >In progress</p>
                                </ons-col>
                                <ons-col width="25%">
                                  <p class="{{'lockedMessage '+((result.locked == true)?'':'hidden')}}">Locked</p>
                                </ons-col>
                                <ons-col width="50%">
                                  <p class="lastModifiedMessage">{{ result.lastModified| date:"MMM d, y h:mm:ss"}}</p>
                                </ons-col>
                              </ons-row>
                            </ons-col>
                          </ons-row>
                        </div>
                        <div class="SearchResultsRowTitle" style="{{(((FilterResults(wFlow.selectedTab.dataHolding.results, 'Delivery')).length == 0)?'display:none':'')}}">Deliveries</div>
                        <div class="toolbox">
                          <ons-row ng-click="displayContent(wFlow,result);" ng-rclick="displayContentNewTab(wFlow,result);" class="SearchResultsRow2 SearchResultsRow clickable hoverOp" ng-repeat="result in FilterResults(wFlow.selectedTab.dataHolding.results, 'Delivery')" dnd-draggable="result"
                          dnd-effect-allowed="copy" dnd-copied="draggingItems(result);">
                            <ons-col>
                              <ons-row style="height: 25px;">
                                <ons-col>
                                  <p class="searchResultName">{{result.name}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row style="height: 18px;">
                                <ons-col>
                                  <p class="searchResultDescription">{{result.description}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row class="resultInfo">
                                <ons-col width="25%">
                                  <p class="{{'inProgressMessage '+((result.inProgress == true)?'':'hidden')}}" >In progress</p>
                                </ons-col>
                                <ons-col width="25%">
                                  <p class="{{'lockedMessage '+((result.locked == true)?'':'hidden')}}">Locked</p>
                                </ons-col>
                                <ons-col width="50%">
                                  <p class="lastModifiedMessage">{{ result.lastModified| date:"MMM d, y h:mm:ss"}}</p>
                                </ons-col>
                              </ons-row>
                            </ons-col>
                          </ons-row>
                        </div>
                        <div class="SearchResultsRowTitle" style="{{(((FilterResults(wFlow.selectedTab.dataHolding.results, 'Term')).length == 0)?'display:none':'')}}">Terms</div>
                        <div class="toolbox">
                          <ons-row ng-click="displayContent(wFlow,result);" ng-rclick="displayContentNewTab(wFlow,result);" class="SearchResultsRow3 SearchResultsRow clickable hoverOp" ng-repeat="result in FilterResults(wFlow.selectedTab.dataHolding.results, 'Term')" dnd-draggable="result"
                          dnd-effect-allowed="copy"  dnd-copied="draggingItems(result);">
                            <ons-col>
                              <ons-row style="height: 25px;">
                                <ons-col>
                                  <p class="searchResultName">{{result.name[Settings.preferLanguage["LANG_CODE"]]}}</p>
                                </ons-col>
                                <ons-col>
                                  <p class="searchResultDescription">{{result.description[Settings.preferLanguage["LANG_CODE"]]}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row style="height: 25px;">
                                <ons-col>
                                  <p class="searchResultDescription">{{result.termScope.name}}</p>
                                </ons-col>
                                <ons-col>
                                  <p class="searchResultDescription">{{result.termScope.description}}</p>
                                </ons-col>
                              </ons-row>
                              <ons-row class="resultInfo">
                                <ons-col width="25%">
                                  <p class="{{'inProgressMessage '+((result.inProgress == true)?'':'hidden')}}" >In progress</p>
                                </ons-col>
                                <ons-col width="25%">
                                  <p class="{{'lockedMessage '+((result.locked == true)?'':'hidden')}}">Locked</p>
                                </ons-col>
                                <ons-col width="50%"></ons-col>
                              </ons-row>
                            </ons-col>
                          </ons-row>
                        </div>
                      </div>
                    </div>
                    <!-- DISPLAY CONETNT -->
                    <div  class="{{'contentTypeTab '+((getSelectedTabType(wFlow) == 5)?'':'hidden')}}">
                      <ons-row class="wizardContainer" style="{{((wFlow.selectedTab.content.inProgress == true)?'visibility:visible':'visibility:hidden');}}">
                        <div class="SpinnerLoader" style="{{((wFlow.selectedTab.content.progressWizard.spinner == true)?'visibility:visible;opacity:1;':'visibility:hidden');}}">
                          <div class="centerMeInDiv " style="width:50px; height:50px">
                            <img src="img/loader.gif" style="height:50px; width:50px" />
                          </div>
                        </div>
                        <div ng-switch="wFlow.selectedTab.content.progressWizard.index" style="width: 100%;">
                          <ons-row ng-switch-when="1">
                            <ons-col>
                              <ons-row class="header" ng-click="refocusMe(wFlow);">

                                <ons-col width="110px" ng-click="cancelButton(wFlow.selectedTab.content, wFlow);" class="backButton buttons clickable">
                                  <ons-icon icon="ion-android-cancel" size="25px"></ons-icon>
                                  <p>Cancel</p>
                                </ons-col>
                                <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                <div class="title">
                                  {{wFlow.selectedTab.content.progressWizard.header}}
                                </div>
                                <ons-col width="110px" ng-click="nextButton(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                  <p>Next</p>
                                  <ons-icon icon="ion-android-arrow-dropright-circle" size="25px"></ons-icon>
                                </ons-col>

                              </ons-row>
                              <ons-row class="editObjectDetailsRow">
                                <ons-col class="InputLabel" width="200px">
                                  {{wFlow.selectedTab.content.type}} Name:
                                </ons-col>
                                <ons-col class="InputTextbox">
                                  <input ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.content.newData.name" type="text" />
                                </ons-col>
                              </ons-row>
                              <ons-row class="editObjectDetailsRow">
                                <ons-col class="InputLabel" width="200px">
                                  {{wFlow.selectedTab.content.type}} Description:
                                </ons-col>
                                <ons-col class="InputTextbox">
                                  <textarea ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.content.newData.description" ></textarea>
                                </ons-col>
                              </ons-row>
                              <ons-row class="editObjectDetailsRow">
                                <ons-col class="InputLabel" width="200px">
                                  {{wFlow.selectedTab.content.type}} Path:
                                </ons-col>
                                <ons-col class="InputTextbox">
                                  <input ng-blur="InsertStepToLast10Steps();" ng-model="wFlow.selectedTab.content.newData.url" type="text" />
                                </ons-col>
                              </ons-row>
                              <!-- (DELIVERY & KBIT) CHANGE NAME | DESCRIPTION | PATH -->
                            </ons-col>
                          </ons-row>
                          <ons-row ng-switch-when="2">
                            <div ng-switch="wFlow.selectedTab.content.type" style="width: 100%;">
                              <ons-row ng-switch-when="Delivery">
                                <ons-col>
                                  <ons-row class="header" ng-click="refocusMe(wFlow);">

                                    <ons-col width="110px" ng-click="backButton(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <ons-icon icon="ion-android-arrow-dropleft-circle" size="25px"></ons-icon>
                                      <p>Back</p>
                                    </ons-col>
                                    <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                    <div class="title">
                                     Delivery Kbits Needed & Provided
                                    </div>
                                    <ons-col width="110px" ng-click="nextButton(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <p>Next</p>
                                      <ons-icon icon="ion-android-arrow-dropright-circle" size="25px"></ons-icon>
                                    </ons-col>

                                  </ons-row>
                                  <ons-row class="editObjectDetailsRow">
                                    <ons-col class="InputLabel">
                                      Drag and drop <strong>Kbits</strong> from search wolkflow, or <span ng-click="modifyOpenCashedContects('Kbit');" class="linkSpan">open recent objects list.</span>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row style="width: 100%;height: 260px;">
                                    <ons-col class="dropzone" >
                                      <div class="dropDiv" style="border-right: 1px solid rgba(0,0,0,.4);width: 370px;">Drop kbits needed here</div>
                                      <ul class="draggedItem" dnd-list="wFlow.selectedTab.content.newData.kBitsNeeded">
                                        <li  ng-repeat="kbit in wFlow.selectedTab.content.newData.kBitsNeeded">
                                          <span class="clickable hoverOp" ng-click="displayContentNewTab(wFlow,kbit);" dnd-draggable="kbit" dnd-effect-allowed="copy"  dnd-copied="draggingItems(kbit);">{{kbit.name}}</span>
                                          <ons-icon ng-click="removeObjectFromContent(wFlow.selectedTab.content.newData.kBitsNeeded, kbit)" icon="ion-android-cancel" size="20px"></ons-icon>
                                        </li>
                                      </ul>
                                    </ons-col>
                                    <ons-col class="dropzone">
                                      <div class="dropDiv">Drop kbits provided here</div>
                                      <ul class="draggedItem" dnd-list="wFlow.selectedTab.content.newData.kBitsProvided">
                                        <li  ng-repeat="kbit in wFlow.selectedTab.content.newData.kBitsProvided">
                                          <span class="clickable hoverOp" ng-click="displayContentNewTab(wFlow,kbit);" dnd-draggable="kbit" dnd-effect-allowed="copy"  dnd-copied="draggingItems(kbit);">{{kbit.name}}</span>
                                          <ons-icon ng-click="removeObjectFromContent(wFlow.selectedTab.content.newData.kBitsProvided, kbit)" icon="ion-android-cancel" size="20px"></ons-icon>
                                        </li>
                                      </ul>
                                    </ons-col>
                                  </ons-row>
                                  <!-- (DELIVERY) ADD | REMOVE KBITS NEEDED & PROVIDED -->
                                <ons-col>
                              </ons-row>
                              <ons-row ng-switch-when="Kbit">
                                <ons-col>
                                  <ons-row class="header" ng-click="refocusMe(wFlow);">

                                    <ons-col width="110px" ng-click="backButton(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <ons-icon icon="ion-android-arrow-dropleft-circle" size="25px"></ons-icon>
                                      <p>Back</p>
                                    </ons-col>
                                    <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                    <div class="title">
                                      Kbit Terms
                                    </div>
                                    <ons-col width="110px" ng-click="finishEditing(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <p>Save</p>
                                      <ons-icon icon="ion-checkmark-circled" size="25px"></ons-icon>
                                    </ons-col>

                                  </ons-row>
                                  <!-- (KBIT) ADD | REMOVE TERMS -->
                                  <ons-row class="editObjectDetailsRow">
                                    <ons-col class="InputLabel">
                                      Drag and drop <strong>Terms</strong> from search wolkflow, or <span ng-click="modifyOpenCashedContects('Term');" class="linkSpan">open recent objects list.</span>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row style="width: 100%;height: 260px;">
                                    <ons-col class="dropzone">
                                      <div class="dropDiv" style="width: 766px;">Drop terms here</div>
                                      <ul class="draggedItem" style="width: 766px;" dnd-list="wFlow.selectedTab.content.newData.terms">
                                        <li  ng-repeat="term in wFlow.selectedTab.content.newData.terms">
                                          <span class="clickable hoverOp" ng-click="displayContentNewTab(wFlow,term);" dnd-draggable="term" dnd-effect-allowed="copy"  dnd-copied="draggingItems(term);">{{term.name[Settings.preferLanguage["LANG_CODE"]]}}</span>
                                          <ons-icon ng-click="removeObjectFromContent(wFlow.selectedTab.content.newData.terms, term)" icon="ion-android-cancel" size="20px"></ons-icon>
                                        </li>
                                      </ul>
                                    </ons-col>
                                  </ons-row>
                                <ons-col>
                              </ons-row>
                            </div>
                          </ons-row>
                          <ons-row ng-switch-when="3">
                            <div ng-switch="wFlow.selectedTab.content.type" style="width: 100%;">
                              <ons-row ng-switch-when="Delivery">
                                <ons-col>
                                  <ons-row class="header" ng-click="refocusMe(wFlow);">

                                    <ons-col width="110px" ng-click="backButton(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <ons-icon icon="ion-android-arrow-dropleft-circle" size="25px"></ons-icon>
                                      <p>Back</p>
                                    </ons-col>
                                    <ons-col></ons-col>  <!-- SPACE FOR TITLE -->
                                    <div class="title">
                                      Delivery Terms
                                    </div>
                                    <ons-col width="110px" ng-click="finishEditing(wFlow.selectedTab.content);" class="backButton buttons clickable">
                                      <p>Save</p>
                                      <ons-icon icon="ion-checkmark-circled" size="25px"></ons-icon>
                                    </ons-col>

                                  </ons-row>
                                  <!-- (DELIVERY) ADD | REMOVE TERMS -->
                                  <ons-row class="editObjectDetailsRow">
                                    <ons-col class="InputLabel">
                                      Drag and drop <strong>Terms</strong> from search wolkflow, or <span ng-click="modifyOpenCashedContects('Term');" class="linkSpan">open recent objects list.</span>
                                    </ons-col>
                                  </ons-row>
                                  <ons-row style="width: 100%;height: 260px;">
                                    <ons-col class="dropzone">
                                      <div class="dropDiv" style="width: 766px;">Drop terms here</div>
                                      <ul class="draggedItem" style="width: 766px;" dnd-list="wFlow.selectedTab.content.newData.terms">
                                        <li  ng-repeat="term in wFlow.selectedTab.content.newData.terms">
                                          <span class="clickable hoverOp" ng-click="displayContentNewTab(wFlow,term);" dnd-draggable="term" dnd-effect-allowed="copy"  dnd-copied="draggingItems(term);">{{term.name[Settings.preferLanguage["LANG_CODE"]]}}</span>
                                          <ons-icon ng-click="removeObjectFromContent(wFlow.selectedTab.content.newData.terms, term)" icon="ion-android-cancel" size="20px"></ons-icon>
                                        </li>
                                      </ul>
                                    </ons-col>
                                  </ons-row>
                                <ons-col>
                              </ons-row>
                            </div>
                          </ons-row>
                        </div>
                      </ons-row>
                      <div ng-click="back(wFlow.selectedTab.dataHolding);" style="{{'border-top: 2px solid '+wFlow.selectedTab.color+'; border-right: 3px solid '+wFlow.selectedTab.color+';z-index: 1;'}}" class="{{'ReturnToSearchButton '+ ((wFlow.selectedTab.dataHolding && wFlow.selectedTab.dataHolding.parentTab && wFlow.selectedTab.dataHolding.parentTab.workflowId)?'':'hidden')}}">
                        <ons-icon icon="ion-chevron-left" size="18px"></ons-icon> Back
                      </div>
                      <div class="{{'tabOptionsDiv '+ ((wFlow.selectedTab.tabOption == true && wFlow.selectedTab.content.type != 'Term')?'':'invisible')}}" ng-mouseleave="closeOptionTab(wFlow)">
                        <ons-row ng-click="editContent(wFlow);"  class="hoverOp clickable">
                          <ons-col class="optionIcon" width="34px">
                            <ons-icon icon="ion-edit" size="18px"></ons-icon>
                          </ons-col>
                          <ons-col class="optionTitle">
                            Edit
                          </ons-col>
                        </ons-row>
                        <ons-row ng-click="revokeContent(wFlow.selectedTab.content)" class="{{'row ons-row-inner '+((wFlow.selectedTab.content.locked == true)?'hoverOp clickable':'disabledButton')}}">
                          <ons-col class="optionIcon" width="34px">
                            <ons-icon icon="ion-backspace" size="18px"></ons-icon>
                          </ons-col>
                          <ons-col class="optionTitle">
                            Revoke
                          </ons-col>
                        </ons-row>
                        <ons-row class="{{'row ons-row-inner '+((wFlow.selectedTab.content.locked == true)?'hoverOp clickable':'disabledButton')}}" ng-click="publishButton(wFlow.selectedTab.content)">
                          <ons-col class="optionIcon" width="34px">
                            <ons-icon icon="ion-social-dropbox" size="18px"></ons-icon>
                          </ons-col>
                          <ons-col class="optionTitle">
                            Publish
                          </ons-col>
                        </ons-row>
                      </div>
                      <ons-row class="contentHeader">
                        <ons-col class="contentName">
                          <selectable>
                            {{((wFlow.selectedTab.content.type!="Term")?wFlow.selectedTab.content.name:(wFlow.selectedTab.content.termScope.name))}}
                          </selectable>
                          <span class="{{'lockedDiv '+((wFlow.selectedTab.content.locked == true)?'':'invisible')}}">
                            <ons-icon icon="ion-locked" style="vertical-align: 7%;" size="17px"></ons-icon>
                          </span>
                          <span class="{{'InprogressDiv '+((wFlow.selectedTab.content.inProgress == true)?'':'invisible')}}">
                            <ons-icon icon="ion-code-working" style="vertical-align: 7%;" size="17px"></ons-icon>
                          </span>
                          <div class="{{'scopeDescription '+((wFlow.selectedTab.content.type=='Term')?'':'hidden')}}">
                            {{wFlow.selectedTab.content.termScope.description}}
                          </div>
                        </ons-col>
                        <ons-col class="contentType" dnd-draggable="wFlow.selectedTab.content" dnd-effect-allowed="copy"  dnd-copied="draggingItems(wFlow.selectedTab.content);"  width="60px">{{wFlow.selectedTab.content.type}}</ons-col>
                        <ons-col class="{{'contentLastModified col ons-col-inner '+((wFlow.selectedTab.content.url == undefined || wFlow.selectedTab.content.url == '')?'hidden':'')}}" width="130px">Last Modified <br>
                          <selectable>
                            {{wFlow.selectedTab.content.lastModified| date:"MMM d, y h:mm:ss"}}
                          </selectable>
                        </ons-col>
                      </ons-row>
                      <ons-row class="{{'contentBody row ons-row-inner '+((wFlow.selectedTab.content.type!='Term')?'':'hidden')}}" style="padding-top: 6px;">
                        <ons-col>
                          <selectable>{{wFlow.selectedTab.content.description}}</selectable><br>
                        </ons-col>
                      </ons-row>
                      <ons-row class="{{'contentTermBody row ons-row-inner '+((wFlow.selectedTab.content.type=='Term')?'':'hidden')}}" style="padding-top: 6px;">
                        <ons-col>
                          <selectable>{{wFlow.selectedTab.content.name[Settings.preferLanguage["LANG_CODE"]]}}</selectable><br>
                        </ons-col>
                      </ons-row>
                      <ons-row class="{{'contentTermBody row ons-row-inner '+((wFlow.selectedTab.content.type=='Term')?'':'hidden')}}" style="padding-top: 6px;">
                        <ons-col>
                          <selectable>{{wFlow.selectedTab.content.description[Settings.preferLanguage["LANG_CODE"]]}}</selectable><br>
                        </ons-col>
                      </ons-row>
                      <ons-row class="{{'contentPath row ons-row-inner '+((wFlow.selectedTab.content.type == 'Term')?'hidden':'')}}">
                        <ons-col class="title" width="50px">
                          Path
                        </ons-col>
                        <ons-col class="{{'col ons-col-inner link '+((wFlow.selectedTab.content.url == undefined || wFlow.selectedTab.content.url == '')?'hidden':'')}}" >
                          <selectable>
                            <a href="{{wFlow.selectedTab.content.url}}" target="_blank">{{wFlow.selectedTab.content.url.toLowerCase()}}</a>
                          </selectable>
                        </ons-col>
                        <ons-col class="{{'col ons-col-inner nolink '+((wFlow.selectedTab.content.url == undefined || wFlow.selectedTab.content.url == '')?'':'hidden')}}" >
                          Not Specified
                        </ons-col>
                      </ons-row>
                      <ons-row class="{{'contentDetails row ons-row-inner '+((wFlow.selectedTab.content.type == 'Term')?'hidden':'')}}">
                        <ons-col>
                          <div ng-switch="wFlow.selectedTab.content.type">
                            <ons-row ng-switch-when="Delivery">
                              <ons-col>
                                <ons-row class="tables">
                                  <ons-col class="tableCols">
                                    <ons-row class="title">
                                      <ons-col>
                                        Terms
                                      </ons-col>
                                    </ons-row>
                                    <ons-row class="listItems">
                                      <ons-col>
                                        <ons-row class="listItem" ng-click="displayContent(wFlow,Term);" ng-repeat="Term in wFlow.selectedTab.content.terms" dnd-draggable="Term" dnd-effect-allowed="copy" dnd-copied="draggingItems(Term);">
                                          {{Term.name[Settings.preferLanguage["LANG_CODE"]]}}
                                        </ons-row>
                                      </ons-col>
                                    </ons-row>
                                  </ons-col>
                                  <ons-col class="tableCols">
                                    <ons-row class="title">
                                      <ons-col>
                                        Kbits Needed
                                      </ons-col>
                                    </ons-row>
                                    <ons-row class="listItems">
                                      <ons-col>
                                        <ons-row class="listItem" ng-click="displayContent(wFlow,Kbits);" ng-repeat="Kbits in wFlow.selectedTab.content.kBitsNeeded" dnd-draggable="Kbits" dnd-effect-allowed="copy" dnd-copied="draggingItems(Kbits);">
                                          {{Kbits.name}}
                                        </ons-row>
                                      </ons-col>
                                    </ons-row>
                                  </ons-col>
                                  <ons-col class="tableCols">
                                    <ons-row class="title">
                                      <ons-col>
                                        Kbits Provided
                                      </ons-col>
                                    </ons-row>
                                    <ons-row class="listItems">
                                      <ons-col>
                                        <ons-row class="listItem" ng-click="displayContent(wFlow,Kbits);" ng-repeat="Kbits in wFlow.selectedTab.content.kBitsProvided" dnd-draggable="Kbits" dnd-effect-allowed="copy" dnd-copied="draggingItems(Kbits);">
                                          {{Kbits.name}}
                                        </ons-row>
                                      </ons-col>
                                    </ons-row>
                                  </ons-col>
                                </ons-row>
                              </ons-col>
                            </ons-row>
                            <ons-row ng-switch-when="Kbit">
                              <ons-col>
                                <ons-row class="tables">
                                  <ons-col class="tableCols">
                                    <ons-row class="title">
                                      <ons-col>
                                        Terms
                                      </ons-col>
                                    </ons-row>
                                    <ons-row class="listItems">
                                      <ons-col>
                                        <ons-row class="listItem" ng-click="displayContent(wFlow,Term);" ng-repeat="Term in wFlow.selectedTab.content.terms" dnd-draggable="Term" dnd-effect-allowed="copy" dnd-copied="draggingItems(Term);">
                                          {{Term.name[Settings.preferLanguage["LANG_CODE"]]}}
                                        </ons-row>
                                      </ons-col>
                                    </ons-row>
                                  </ons-col>
                                </ons-row>
                              </ons-col>
                            </ons-row>
                            <ons-row ng-switch-when="Term">
                              Term
                            </ons-row>
                          </div>
                        </ons-col>
                      </ons-row>
                    </div>
                </div>
              </div>

              <div ng-repeat="newButtons in workSpaces.newWorkflowButtons" id="{{'newWorkflowButton'+newButtons.ID}}" class="{{'newWorkflowButtonDiv WorkFlowBlock ' + ((displayNewWorkflowButtons == true)?'':'invisible')}}" fx="{{newButtons.fx}}" fy="{{newButtons.fy}}" tx="{{newButtons.tx}}" ty="{{newButtons.ty}}" >
                <div ng-click="convertToWorkflow(newButtons);" class="newWorkFlow">
                  <ons-icon icon="ion-plus-round" size="150px" class="ons-icon ons-icon--ion ion-plus-round" style="line-height: 200px; display: block; color: rgb(210, 210, 210); font-size: 150px;"></ons-icon>
                </div>
              </div>

            </div>
            
          </ons-row>
        </ons-page>

      </div>
      <div id="LoginPage" ng-switch-when="1" >
        <div class="backGroundPos">
          <img class="blurBackground" src="img/loginbg1.jpg" />
          <div class="holdLoginDiv">
            <div class="LoginHeader">
              <!-- <img src="img/IntelIcon.png" /> -->
            </div>
            <div class="LoginBody">
              <form autocomplete="off">
                <input ng-enter="login();" id="username" type="text" placeholder="username">
                <input ng-enter="login();" id="password" type="password" placeholder="password">
              </form>
            </div>
            <div class="LoginFooter" ng-click="login();">
              <div class="LoginLoader">
                <ons-icon spin="true" icon="ion-load-d" size="30px"></ons-icon>
              </div>
              <div class="LoginButton">
                Login
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="blurWindow" ng-click="CancelNewWorkflow();" class="{{((blurAllWindow == true)?'':'hidden')}}"></div>
    </div>
    <div id="colorPickerDiv" class="{{((handlePickColor == true)?'':'hidden')}}">
      <ons-row class="colorPickerTitle">
        <ons-col></ons-col>
        <ons-col>Pick color</ons-col>
        <ons-col></ons-col>
      </ons-row>
      <ons-row>
        <ons-col><div ng-click="((isColorUsed('#ED143D') == true)?return:colorPicked='#ED143D')" class="{{'redColor colorPick '+((isColorUsed('#ED143D') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#ED143D') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#7FFF00') == true)?return:colorPicked='#7FFF00')" class="{{'greenColor colorPick '+((isColorUsed('#7FFF00') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#7FFF00') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#0860A8') == true)?return:colorPicked='#0860A8')" class="{{'blueColor colorPick '+((isColorUsed('#0860A8') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#0860A8') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#FF8C00') == true)?return:colorPicked='#FF8C00')" class="{{'orangeColor colorPick '+((isColorUsed('#FF8C00') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#FF8C00') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#FF1493') == true)?return:colorPicked='#FF1493')" class="{{'pinkColor colorPick '+((isColorUsed('#FF1493') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#FF1493') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
      </ons-row>
      <ons-row>
        <ons-col><div ng-click="((isColorUsed('#9400D3') == true)?return:colorPicked='#9400D3')" class="{{'violateColor colorPick '+((isColorUsed('#9400D3') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#9400D3') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#FFD700') == true)?return:colorPicked='#FFD700')" class="{{'goldColor colorPick '+((isColorUsed('#FFD700') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#FFD700') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#8B4513') == true)?return:colorPicked='#8B4513')" class="{{'brownColor colorPick '+((isColorUsed('#8B4513') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#8B4513') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#808080') == true)?return:colorPicked='#808080')" class="{{'grayColor colorPick '+((isColorUsed('#808080') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#808080') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
        <ons-col><div ng-click="((isColorUsed('#000') == true)?return:colorPicked='#000')" class="{{'blackColor colorPick '+((isColorUsed('#000') == false)?'clickable hoverOp':'')}}">
          <div class="{{'colorUsed '+((isColorUsed('#000') == true)?'':'hidden')}}">Used</div>
        </div></ons-col>
      </ons-row>
    </div>
    <div id="ToastMessage" class="ToastContainer BOTTOM">
      <div class="ToastTitle"></div>
      <div class="ToastBody"></div>

    </div>
    <div id="profileDialogClose" ng-click="closeProfileDialog();" style="display:none"></div>
    <div id="profileDialog" style="display:none">
      <div class="ProfileAfterLoad" style="display: block;">
        <ons-row class="row ons-row-inner ProfileViewHeader">
          <ons-col class="col ons-col-inner">
            <img class="blurBackground" ng-src="{{getProfilePicture()}}" >
            <div class="ProfilePicDiv" style="{{'background:url(\''+getProfilePicture()+'\') 50% 50% no-repeat;background-size:150px;'}}"></div>
          </ons-col>
        </ons-row>
        <ons-row class="row ons-row-inner">
          <ons-col class="col ons-col-inner ProfileName ng-binding">{{currentUser.username}}</ons-col>
        </ons-row>
        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >First Name</ons-col>
          <ons-col class="ColResProfile col ons-col-inner">
            <ons-icon class="updateName updateFirstNameProfile ons-icon ons-icon--ion ion-edit" ng-click="DisplayUpdateSelectedProfile('FirstName')" icon="ion-edit" size="16px" style="font-size: 16px; display: inline;"></ons-icon>
            <ons-icon class="updateNameLoader updateFirstNameProfileLoader ons-icon ons-icon--ion ion-load-d" style="display: none; font-size: 22px;" spin="true" icon="ion-load-d" size="22px"></ons-icon>
            <input style="width:120px" ng-enter="UpdateSelectedProfile('FirstName');" ng-blur="UpdateSelectedProfile('FirstName')" class="updateNameInput updateFirstNameProfileInput" type="text" placeholder="First Name" value="{{currentUser.firstName}}">
            <span class="updateFirstNameValue ng-binding">{{currentUser.firstName}}</span>
          </ons-col>
        </ons-row>
        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >Last Name</ons-col>
          <ons-col class="ColResProfile col ons-col-inner">
            <ons-icon class="updateName updateLastNameProfile ons-icon ons-icon--ion ion-edit" ng-click="DisplayUpdateSelectedProfile('LastName')" icon="ion-edit" size="16px" style="font-size: 16px; display: inline;"></ons-icon>
            <ons-icon class="updateNameLoader updateLastNameProfileLoader ons-icon ons-icon--ion ion-load-d" style="display: none; font-size: 22px;" spin="true" icon="ion-load-d" size="22px"></ons-icon>
            <input style="width:120px" ng-enter="UpdateSelectedProfile('LastName');" ng-blur="UpdateSelectedProfile('LastName')" class="updateNameInput updateLastNameProfileInput" type="text" placeholder="Last Name" value="{{currentUser.lastName}}">
            <span class="updateLastNameValue ng-binding">{{currentUser.lastName}}</span>
          </ons-col>
        </ons-row>
        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >Email</ons-col>
          <ons-col class="ColResProfile col ons-col-inner">
            <ons-icon class="updateName updateEmailProfile ons-icon ons-icon--ion ion-edit" ng-click="DisplayUpdateSelectedProfile('Email')" icon="ion-edit" size="16px" style="font-size: 16px; display: inline;"></ons-icon>
            <ons-icon class="updateNameLoader updateEmailProfileLoader ons-icon ons-icon--ion ion-load-d" style="display: none; font-size: 22px;" spin="true" icon="ion-load-d" size="22px"></ons-icon>
            <input style="width:120px" ng-enter="UpdateSelectedProfile('Email');" ng-blur="UpdateSelectedProfile('Email')" class="updateNameInput updateEmailProfileInput" type="text" placeholder="Email" value="{{currentUser.email}}">
            <span class="updateEmailValue ng-binding">{{currentUser.email}}</span>
          </ons-col>
        </ons-row>

        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >Password</ons-col>
          <ons-col class="ColResProfile col ons-col-inner">
            <ons-icon class="updateName updatePasswordProfile ons-icon ons-icon--ion ion-edit" ng-click="DisplayUpdateSelectedProfile('Password')" icon="ion-edit" size="16px" style="font-size: 16px; display: inline;"></ons-icon>
            <ons-icon class="updateNameLoader updatePasswordProfileLoader ons-icon ons-icon--ion ion-load-d" style="display: none; font-size: 22px;" spin="true" icon="ion-load-d" size="22px"></ons-icon>
            <input style="width:120px" ng-enter="UpdateSelectedProfile('Password');" ng-blur="UpdateSelectedProfile('Password')" class="updateNameInput updatePasswordProfileInput1" type="text" placeholder="Old Password" value="">
            <input style="width:120px" ng-enter="UpdateSelectedProfile('Password');" ng-blur="UpdateSelectedProfile('Password')" class="updateNameInput updatePasswordProfileInput2" type="text" placeholder="New Password" value="">
            <input style="width:120px" ng-enter="UpdateSelectedProfile('Password');" ng-blur="UpdateSelectedProfile('Password')" class="updateNameInput updatePasswordProfileInput3" type="text" placeholder="Confirm Password" value="">
            <span class="updatePasswordValue ng-binding"></span>
          </ons-col>
        </ons-row>
        
        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >Profile Picture</ons-col>
          <ons-col class="ColResProfile col ons-col-inner">
            <div ng-click="DisplayUpdateSelectedProfile('Picture');" class="updateName updatePictureProfile UpdatePasswordButtonProfile hoverOp">Upload</div>
            <ons-icon class="updateNameLoader updatePictureProfileLoader ons-icon ons-icon--ion ion-load-d" style="display: none; font-size: 22px;" spin="true" icon="ion-load-d" size="22px"></ons-icon>
            <input type="file" onchange="angular.element(this).scope().UpdateSelectedProfile('Picture')" class="updateNameInput updatePictureProfileInput" style="width: 80px;border: 0;" />
          </ons-col>
        </ons-row>
        <ons-row class="profileDialogRow" class="profileDialogRow">
          <ons-col width="20px" class="col ons-col-inner"></ons-col>
          <ons-col class="ColTypeProfile col ons-col-inner" width="100px" >Role</ons-col>
          <ons-col class="ColResProfile col ons-col-inner ng-binding">{{currentUser.Role}}</ons-col>
        </ons-row>
        <div class="closeModalProfile" ng-click="closeProfileDialog();">x</div>
      </div>
    </div>
    <div id="LoadingScreen" style="z-index: 100000;display:block;position: fixed;width: 100%;height: 100%;background: rgb(8,96,168);">
      <!-- <img src="img/IntelIcon.png" style="width: 200px;position: absolute;top: 0;bottom: 0;left: 0;right: 0;margin: auto;opacity: .85;z-index: 3;"> -->
      <!-- <img src="img/IntelIcon.png" class="animatedLogo" style="width: 200px;position: absolute;top: 0;bottom: 0;left: 0;right: 0;margin: auto;"> -->
      <div class="statusBarLoading">
        <div class="StatusBarPerc"></div>
      </div>
    </div>
    

  <script type="text/javascript" src="js/angular/angular.js"></script>
  <script type="text/javascript" src="js/angular/angular-route.min.js"></script>
  <script type="text/javascript" src="js/onsenui.js"></script> 
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/jquery.maskedinput.js"></script>
  <script type="text/javascript" src="js/xmlToJson.js"></script>
  <script type="text/javascript" src="js/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="js/bootstrap-datepicker.he.js"></script>
  <script type="text/javascript" src="js/firebase.js"></script>
  <script type="text/javascript" src="js/angularfire.min.js"></script>
  <script type="text/javascript" src="js/visible.js"></script>
  <script type="text/javascript" src="js/angular-drag-and-drop-lists.min.js"></script>

  <script type="text/javascript" src="js/dateFormat.js"></script>
  <script type="text/javascript" src="js/lzma/lzma.js"></script>
  <script type="text/javascript" src="js/lzma/initLzma.js"></script>
  <script type="text/javascript" src="js/app.js"></script>

  <script type="text/javascript" src="js/User.js"></script>
  <script type="text/javascript" src="js/Toast.js"></script>
  <script type="text/javascript" src="js/globals.js"></script>
  <script type="text/javascript" src="js/Storage.js"></script>
  <script type="text/javascript" src="js/Server.js"></script>
  <script type="text/javascript" src="js/Settings.js"></script>
  <script type="text/javascript" src="js/Steps.js"></script>
  <script type="text/javascript" src="js/content.js"></script>
  <script type="text/javascript" src="js/tab.js"></script>
  <script type="text/javascript" src="js/workflows.js"></script>
  <script type="text/javascript" src="js/workspace.js"></script>

  

  </body>
</html>
